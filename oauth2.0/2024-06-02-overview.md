# 2024-06-02: Authentication and Authorization

## OAuth 2.0 개요

OAuth 2.0은 인터넷 사용자들이 자신의 정보를 안전하게 공유할 수 있도록 돕는 인증 및 권한 부여 프로토콜입니다. 주로 웹 애플리케이션과 모바일 애플리케이션에서 널리 사용됩니다.

- **설명**: OAuth 2.0은 사용자 자격 증명을 직접 공유하지 않고 타사 애플리케이션이 사용자 정보를 접근할 수 있게 하는 프로토콜입니다. 이 프로토콜은 사용자들이 제3자 애플리케이션에 자신의 자원에 대한 접근 권한을 부여하면서도, 자신의 로그인 정보(사용자 이름과 비밀번호)를 노출하지 않도록 설계되었습니다.

- **주요 개념**:
  - **클라이언트**: 리소스 소유자를 대신해 보호된 리소스에 접근하는 애플리케이션. 예를 들어, 타사 앱이 사용자 데이터를 읽거나 수정할 수 있는 권한을 요청할 때 클라이언트로 작동합니다.
  - **리소스 소유자**: 자신의 자원을 보호하는 사용자. 사용자는 자신의 데이터를 보호하고, 필요에 따라 타사 애플리케이션에 접근 권한을 부여합니다.
  - **권한 부여 서버**: 클라이언트에게 액세스 토큰을 발급하는 서버. 사용자의 신원을 확인하고, 클라이언트에게 필요한 권한을 부여합니다.
  - **리소스 서버**: 보호된 리소스를 호스팅하는 서버. 클라이언트는 액세스 토큰을 사용하여 리소스 서버에서 데이터를 요청합니다.

- **OAuth 2.0의 구성 요소**:
  - **액세스 토큰**: 클라이언트가 리소스 서버에 접근할 수 있도록 하는 인증 수단. 일반적으로 짧은 유효 기간을 가지며, 특정 리소스와 권한을 나타냅니다.
  - **인증 코드**: 권한 부여 서버가 클라이언트에게 발급하는 임시 코드로, 액세스 토큰을 얻기 위해 사용됩니다. 주로 Authorization Code Flow에서 사용됩니다.
  - **리프레시 토큰**: 액세스 토큰의 유효 기간이 만료되었을 때, 새로운 액세스 토큰을 발급받기 위해 사용하는 토큰. 리프레시 토큰을 통해 사용자 재인증 없이도 지속적인 접근이 가능합니다.

- **OAuth 2.0의 작동 원리**:
  1. **클라이언트 등록**: 클라이언트 애플리케이션은 권한 부여 서버에 등록하여 클라이언트 ID와 비밀 키를 발급받습니다.
  2. **사용자 인증 및 권한 부여**: 사용자는 클라이언트 애플리케이션을 통해 권한 부여 서버에 로그인하고, 애플리케이션이 리소스에 접근할 수 있는 권한을 부여합니다.
  3. **인증 코드 발급**: 사용자의 승인을 받은 후, 권한 부여 서버는 클라이언트 애플리케이션에 인증 코드를 발급합니다.
  4. **액세스 토큰 요청**: 클라이언트 애플리케이션은 인증 코드를 사용하여 권한 부여 서버에 액세스 토큰을 요청합니다.
  5. **액세스 토큰 발급**: 권한 부여 서버는 클라이언트 애플리케이션에 액세스 토큰을 발급합니다.
  6. **리소스 접근**: 클라이언트 애플리케이션은 액세스 토큰을 사용하여 리소스 서버에 보호된 리소스를 요청합니다.

- **OAuth 2.0의 이점**:
  - **보안 강화**: 사용자 자격 증명을 직접 공유하지 않아 보안이 강화됩니다.
  - **편의성**: 사용자는 여러 애플리케이션에서 동일한 자격 증명을 사용할 필요 없이 접근 권한을 부여할 수 있습니다.
  - **확장성**: 다양한 애플리케이션과 서비스 간의 통합을 용이하게 합니다.
